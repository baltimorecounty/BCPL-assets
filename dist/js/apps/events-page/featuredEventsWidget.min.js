"use strict";!function(){angular.module("eventsPageApp",["ngRoute","ngSanitize"])}(),function(){angular.module("featuredEventsWidget",[])}(),function(e){var t={baseUrl:"http://localhost:54453",serviceUrls:{events:"/api/evanced/signup/events",eventRegistration:"/api/evanced/signup/registration"},remoteServiceUrls:{ageGroups:"https://bcpl.evanced.info/api/signup/agegroups",eventTypes:"https://bcpl.evanced.info/api/signup/eventtypes",locations:"https://bcpl.evanced.info/api/signup/locations"},templateUrls:{datePickersTemplate:"/_js/apps/events-page/templates/datePickers.html",eventsListTemplate:"/_js/apps/events-page/templates/eventsList.html",filtersTemplate:"/_js/apps/events-page/templates/filters.html",filtersExpandosTemplate:"/_js/apps/events-page/templates/filters-expandos.html",loadMoreTemplate:"/_js/apps/events-page/templates/loadMore.html",featuredEventsTemplate:"/_js/apps/events-page/templates/featuredEvents.html"},partialUrls:{eventListPartial:"/_js/apps/events-page/partials/eventList.html",eventDetailsPartial:"/_js/apps/events-page/partials/eventDetails.html",eventRegistrationPartial:"/_js/apps/events-page/partials/eventRegistration.html"},requestChunkSize:10};e.constant("CONSTANTS",t)}(angular.module("eventsPageApp")),function(e){var t=function(e,t){e.when("/",{templateUrl:t.partialUrls.eventListPartial,controller:"EventsPageCtrl",controllerAs:"eventsPage"}).when("/:id",{templateUrl:t.partialUrls.eventDetailsPartial,controller:"EventDetailsCtrl",controllerAs:"eventDetailsPage"}).when("/register/:id",{templateUrl:t.partialUrls.eventRegistrationPartial,controller:"EventRegistrationCtrl",controllerAs:"eventRegistrationPage"})};t.$inject=["$routeProvider","CONSTANTS"],e.config(t)}(angular.module("eventsPageApp")),function(e){var t=function(e,t,n){var a=function(e,t){return new Date(e.EventStart).toLocaleDateString()===t},r=function(e){var t=[],n=void 0;return angular.forEach(e,function(r){var o=new Date(r.EventStart).toLocaleDateString();n!==o&&(t.push({date:new Date(r.EventStart),events:e.filter(function(e){return a(e,o)})}),n=o)}),t};return{get:function(a){var o=e.baseUrl+e.serviceUrls.events;return console.log(a,o),n(function(e,n){t.post(o,a).then(function(t){console.log("resp",t),t.data?e({eventGroups:r(t.data.Events),totalResults:t.data.TotalResults}):n(t)},n)})},getById:function(a){return n(function(n,r){t.get(e.baseUrl+e.serviceUrls.events+"/"+a).then(function(e){e.data&&e.data.Description?(e.data.Description=e.data.Description.replace(/<[\w\/]+>/g,""),n(e.data)):r(e)},r)})}}};t.$inject=["CONSTANTS","$http","$q"],e.factory("eventsService",t)}(angular.module("eventsPageApp")),function(e){var t=function(e,t){return{request:function(n){return t(function(t,a){e.get(n).then(function(e){t(e.data)},function(e){a(e)})})}}};t.$inject=["$http","$q"],e.factory("metaService",t)}(angular.module("eventsPageApp")),function(e){var t=function(e,t,n){return{register:function(a){return n(function(n,r){t.post(e.baseUrl+e.serviceUrls.eventRegistration,a).then(function(e){e.data?n({data:e.data}):r(e)},r)})}}};t.$inject=["CONSTANTS","$http","$q"],e.factory("registrationService",t)}(angular.module("eventsPageApp"));var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t=function(){var e=function(e,t){var n="string"==typeof e?new Date(e):e;return"object"!==(void 0===n?"undefined":_typeof(n))||"Invalid Date"===n?n:(n.setDate(n.getDate()+t),n)},t=function(e,t){if(!e||isNaN(Date.parse(e)))return"Bad start date format";if("number"!=typeof t||t<=0)return"Bad event length format";var r=moment(e),o=moment(e).add(t,"m"),i=n(r),s=r.minute(),l=a(r),u=n(o),p=o.minute(),c=a(o);return i+(0===s?"":":"+s)+" "+(l===c?"":l)+" to "+u+(0===p?"":":"+p)+" "+c},n=function(e){var t=e.hour();return 0===t?12:t<=12?t:t-12},a=function(e){return e.hour()<12?"a.m.":"p.m."};return{addDays:e,formatSchedule:t}};e.factory("dateUtilityService",t)}(angular.module("eventsPageApp")),function(e){var t=function(){return{build:function(e){if(!e)return"";var t=Object.entries(e),n="";return t.length&&angular.forEach(t,function(e){n+=e[0]+"="+e[1]+"&"}),n}}};e.factory("querystringService",t)}(angular.module("eventsPageApp")),function(e){var t=function(e){var t=this,n=function(e){return console.error(e)},a=function(e){console.log(e),t.featuredEventList=e},r={Limit:4,Locations:[1,2],EventTypes:[10]};e.get(r).then(a).catch(n)};t.$inject=["eventsService"],e.controller("FeaturedEventsCtrl",t)}(angular.module("eventsPageApp")),function(e){var t=function(e){return{restrict:"E",scope:{resultsToDisplay:"=",branch:"=",eventType:"="},templateUrl:e.templateUrls.featuredEventsTemplate,controller:"FeaturedEventsCtrl",controllerAs:"featuredEvents",bindToController:!0}};t.$inject=["CONSTANTS"],e.directive("featuredEvents",t)}(angular.module("eventsPageApp"));