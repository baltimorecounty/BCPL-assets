"use strict";!function(){angular.module("eventsPageApp",[])}(),function(e){var t={baseUrl:"http://ba224964:3100",serviceUrls:{events:"/api/evanced/signup/events"},templateUrls:{event:"/dist/js/apps/events-page/templates/event.html",eventDate:"/dist/js/apps/events-page/templates/eventDate.html",loadMore:"/dist/js/apps/events-page/templates/loadMore.html"},requestChunkSize:10};e.constant("CONSTANTS",t)}(angular.module("eventsPageApp")),function(e){var t=function(e,t,n){var a=function(e,t){return new Date(e.EventStart).toLocaleDateString()===t},r=function(e){var t=[],n=void 0;return angular.forEach(e,function(r){var o=new Date(r.EventStart).toLocaleDateString();n!==o&&(t.push({date:new Date(r.EventStart),events:e.filter(function(e){return a(e,o)})}),n=o)}),t};return{get:function(a){var o=a;return o.StartDate=o.StartDate.toLocaleDateString(),o.EndDate=o.EndDate.toLocaleDateString(),n(function(n,a){t.post(e.baseUrl+e.serviceUrls.events,o).then(function(e){n(r(e.data))},a)})}}};t.$inject=["CONSTANTS","$http","$q"],e.factory("eventsService",t)}(angular.module("eventsPageApp"));var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t=function(){var e=function(e,t){var n="string"==typeof e?new Date(e):e;return"object"!==(void 0===n?"undefined":_typeof(n))||"Invalid Date"===n?n:(n.setDate(n.getDate()+t),n)},t=function(e,t){if(!e||isNaN(Date.parse(e)))return"Bad start date format";if("number"!=typeof t||t<=0)return"Bad event length format";var o=new Date(e),i=new Date(e);return i.setMinutes(o.getMinutes()+t),n(o)+":"+r(o.getMinutes())+" "+a(o)+" to "+n(i)+":"+r(i.getMinutes())+" "+a(i)},n=function(e){var t=e.getHours();return 0===t?12:t<=12?t:t-12},a=function(e){return e.getHours()<12?"a.m.":"p.m."},r=function(e){return e<10?"0"+e:""+e};return{addDays:e,formatSchedule:t}};e.factory("dateUtilityService",t)}(angular.module("eventsPageApp")),function(e){var t=function(){return{build:function(e){if(!e)return"";var t=Object.entries(e),n="";return t.length&&angular.forEach(t,function(e){n+=e[0]+"="+e[1]+"&"}),n}}};e.factory("querystringService",t)}(angular.module("eventsPageApp")),function(e){var t=function(e,t,n,a,r){var o=this,i={StartDate:new Date,EndDate:new Date,Page:1,IsOngoingVisible:!0};o.eventGroups=[],o.chunkSize=n.requestChunkSize,o.loadNextPage=function(){i.StartDate=r.addDays(i.StartDate,1),i.EndDate=r.addDays(i.EndDate,1),a.get(i).then(function(e){o.eventGroups=o.eventGroups.concat(e)})},a.get(i).then(function(e){o.eventGroups=e})};t.$inject=["$scope","$timeout","CONSTANTS","eventsService","dateUtilityService"],e.controller("EventsPageCtrl",t)}(angular.module("eventsPageApp")),function(e){var t=function(e,t){var n=function(t){var n=t.eventItem;t.EventScheduleString=e.formatSchedule(n.EventStart,n.EventLength)};return{restrict:"E",templateUrl:t.templateUrls.event,link:n}};t.$inject=["dateUtilityService","CONSTANTS"],e.directive("event",t)}(angular.module("eventsPageApp")),function(e){var t=function(e){var t=function(e){var t=e,n={weekday:"long",year:"numeric",month:"long",day:"numeric"},a={zIndex:100,responsiveWidth:!0};t.date=t.eventGroupDisplay.date.toLocaleDateString("en-US",n),t.events=t.eventGroupDisplay.events,t.id="datebar-"+t.date.replace(" ","-"),$(".event-date-bar").sticky(a)};return{restrict:"E",templateUrl:e.templateUrls.eventDate,link:t,scope:{eventGroupDisplay:"="}}};t.$inject=["CONSTANTS"],e.directive("eventDate",t)}(angular.module("eventsPageApp")),function(e){var t=function(e){return{restrict:"E",templateUrl:e.templateUrls.loadMore,scope:{loadNextPage:"=",chunkSize:"="}}};t.$inject=["CONSTANTS"],e.directive("loadMore",t)}(angular.module("eventsPageApp"));