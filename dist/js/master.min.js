"use strict";var namespacer=function(e){var t=e.split("."),a=window;if(t.length)for(var n=0;n<t.length;n+=1){var i=t[n];void 0===a[i]&&(a[i]={}),a=a[i]}};namespacer("bcpl.utility"),bcpl.utility.flexDetect=function(e,t){return{init:function(a){void 0!==(a||e).createElement("div").style.flex||t("body").addClass("no-flex")}}}(document,jQuery),$(function(){bcpl.utility.flexDetect.init()}),namespacer("baltimoreCounty.utility"),baltimoreCounty.utility.numericStringTools=function(){var e=function(e){return/[$]/.test(e[0])&&e.length>1?1:0},t=function(e){var t=/^\.{0,1}(\d+[,.]{0,1})*\d+\b/,a=e.match(t);return a?parseFloat(a[0].split(",").join("")):e};return{getIndexOfFirstDigit:e,extractNumbersIfPresent:function(a){var n=e(a),i=a.slice(n),o=t(i);return"number"==typeof o?o:a},getFirstSetOfNumbersAndRemoveNonDigits:t}}(),namespacer("bcpl.utility"),bcpl.utility.querystringer=function(){return{getAsDictionary:function(e){var t=e||window;if(t.location.search){for(var a=t.location.search.slice(1),n=a.split("&"),i={},o=0;o<n.length;o+=1){var r=n[o].split("=");i[r[0].toLowerCase()]=2===r.length?r[1]:""}return i}return!1}}}(),namespacer("bcpl"),bcpl.alertBox=function(e){var t=void 0,a=void 0,n=function(e){e.data.$container.addClass("dismissed"),sessionStorage.setItem("isAlertDismissed",!0)};return{init:function(){t=e("#alert-box-dismiss"),a=t.closest(".alert-container"),t.on("click",{$container:a},n),sessionStorage&&!sessionStorage.getItem("isAlertDismissed")||!sessionStorage?setTimeout(function(){a.slideDown(250)},500):(a.addClass("dismissed"),a.show())}}}(jQuery),$(function(){bcpl.alertBox.init()}),namespacer("bcpl"),bcpl.constants={baseApiUrl:"http://localhost:3000",basePageUrl:"/dist",keyCodes:{enter:13,escape:27,upArrow:38,downArrow:40,leftArrow:37,rightArrow:39,tab:9,space:32}},namespacer("bcpl"),bcpl.navigationSearch=function(e){var t=function(t,a){a.removeClass("active"),t.removeClass("active move-left").find(".slide-in").removeClass("slide-in"),e("nav .clicked").removeClass("active clicked"),e("body").removeClass("nav-visible")},a=function(t){var a=t.data.$searchBox,n=t.data.$searchButtonActivator,i=t.data.$menu,o=e(t.currentTarget),r=t.data.$modalCover;i.find(".slide-in").removeClass("slide-in"),n.removeClass("active"),a.removeClass("active"),o.addClass("active"),i.addClass("active"),r.addClass("active"),e("body").addClass("nav-visible")},n=function(e){var t=e.data.$searchBox,a=e.data.$searchButtonActivator,n=e.data.$hamburgerButton;t.is(":hidden")?(a.addClass("active"),n.removeClass("active"),t.addClass("active")):(a.removeClass("active"),n.addClass("active"),t.removeClass("active"))},i=function(t){var a=e(t.currentTarget).siblings("input").first().val();t.data.browserWindow.location=bcpl.constants.basePageUrl+"/search.html?q="+a+"&page=1&resultsPerPage=10"},o=function(a){var n=a.data.$menu,i=a.data.$modalCover;e("nav .clicked").length?e("nav .clicked").removeClass("clicked active"):t(n,i)},r=function(t){var a=e(t.currentTarget);e("nav .clicked").removeClass("clicked"),a.parent().addClass("clicked")},s=void 0,c=function(a,n){var i=a.data.$menu,o=a.data.$modalCover;parseFloat(e("body").css("width"))>768&&i.hasClass("animatable")?(t(i,o),i.removeClass("animatable")):(clearTimeout(s),s=setTimeout(function(){i.addClass("animatable"),n&&n()},500))};return{init:function(){var t=e("#activate-search-button"),s=e("#search-box"),l=e("#search-button"),u=e("#hamburger-menu-button"),d=e(".nav-and-search nav"),v=e("nav > .nav-back-button button"),f=e("#modal-cover"),b=e(".nav-and-search nav > ul > li > button");t.on("click",{$searchBox:s,$searchButtonActivator:t,$hamburgerButton:u},n),u.on("click",{$searchBox:s,$searchButtonActivator:t,$menu:d,$modalCover:f},a),l.on("click",{browserWindow:window},i),v.on("click",{$menu:d,$modalCover:f},o),f.on("click",{$menu:d,$modalCover:f},o),b.on("click",{$menu:d},r),e(window).on("resize",{$menu:d,$modalCover:f},c),parseFloat(e("body").css("width"))<=768&&d.addClass("animatable")}}}(jQuery),$(function(){bcpl.navigationSearch.init()}),namespacer("bcpl"),bcpl.navigation=function(e,t){var a=function(){return parseFloat(e("body").width())<=768},n=function(){return e("body").hasClass("nav-visible")},i=function(e){return e.closest("nav>ul>li").find("button")},o=function(){return e("nav li.active a:visible").first().focus()},r=function(t){t&&(n()?e(".clicked .submenu-wrapper").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){t()}):t())},s=function(e,t){e.attr("aria-expanded",!0).closest("li").addClass("active clicked").find("ul").attr("aria-hidden",!1),r(t)},c=function(e,t){e.attr("aria-expanded",!1).closest("li").removeClass("active clicked").find("ul").attr("aria-hidden",!0),r(t)},l=function(){return c(e("nav").find("li.active button"))},u=function(){return e("#activate-search-button, #search-box").removeClass("active")},d=function(t){t&&!a()?e(".hero-callout-container").hide():e(".hero-callout-container").show()},v=function(t){var a=e(t.currentTarget),n=a.closest("li").hasClass("active");u(),l(),n?(c(a),d(!1)):(s(a),d(!0))},f=function(a){var n=a.which||a.keyCode,i=e("li.active button");switch(n){case t.escape:c(i,function(){i.focus(),d(!1)})}},b=function(a){var n=a.which||a.keyCode,i=e(a.currentTarget);switch(n){case t.rightArrow:a.preventDefault(),c(i),i.parent().next().find("button").focus();break;case t.leftArrow:a.preventDefault(),c(i),i.parent().prev().find("button").focus();break;case t.downArrow:case t.upArrow:a.preventDefault(),l(),s(i,function(){i.siblings(".submenu-wrapper").find("a:visible").first().focus()})}},m=function(a){var n=a.which||a.keyCode,r=e(a.currentTarget),u=r.closest(".active, .clicked").find("a:visible");switch(n){case t.upArrow:a.preventDefault(),u.index(r)-1==-1?u.eq(0).focus():u.eq(u.index(r)-1).focus();break;case t.leftArrow:a.preventDefault(),r.closest("nav>ul>li").prev("li").length&&c(i(r),function(){s(r.closest("nav>ul>li").prev("li").find("button"),function(){o()})});break;case t.downArrow:a.preventDefault(),u.eq(u.index(r)+1).focus();break;case t.rightArrow:a.preventDefault(),r.closest("nav>ul>li").next("li").length&&c(i(r),function(){s(r.closest("nav>ul>li").next("li").find("button"),function(){o()})});break;case t.space:case t.enter:a.preventDefault(),r[0].click(),l()}},p=function(){d(!0)},h=function(t){e(t.relatedTarget).closest("nav").length||a()||(l(),d(!1))};e(document).on("click",".nav-and-search nav button",v),e(document).on("keydown","nav",f),e(document).on("keydown","nav button",b),e(document).on("keydown","nav a",m),e(document).on("mouseover","nav, nav *",p),e(document).on("mouseleave","nav, nav *",h)}(jQuery,bcpl.constants.keyCodes),namespacer("bcpl"),bcpl.tabs=function(e){var t=function(t){var a=e(t.currentTarget),n=t.data.$tabContainer.find(".tab"),i=a.index();t.data.$tabControls.removeClass("active"),n.removeClass("active"),a.addClass("active"),n.eq(i).addClass("active")};return{init:function(){var a=e(".tabs"),n=a.find(".tab-control");n.on("click",{$tabContainer:a,$tabControls:n},t)}}}(jQuery),$(function(){bcpl.tabs.init()});