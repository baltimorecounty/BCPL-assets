"use strict";var namespacer=function(e){if(e){var t=e.split("."),n=window;if(t.length)for(var r=0;r<t.length;r+=1){var i=t[r];void 0===n[i]&&(n[i]={}),n=n[i]}}};namespacer("bcpl"),bcpl.constants={baseApiUrl:"https://services.bcpl.info",baseCatalogUrl:"https://catalog.bcpl.lib.md.us",baseWebsiteUrl:"https://www.bcpl.info",basePageUrl:"/dist",defaultDocument:"index.html",keyCodes:{enter:13,escape:27,upArrow:38,downArrow:40,leftArrow:37,rightArrow:39,tab:9,space:32},breakpoints:{large:1200,medium:992,small:768,xsmall:480},search:{urls:{materialTypes:"/sebin/y/r/primaryMaterialType.json",catalog:"/polaris/view.aspx?keyword=",events:"/events-and-programs/list.html#!/?term=",website:"/search-results.html?term=",api:"/api/swiftype/site-search",trackClickThrough:"/api/swiftype/track",searchTerms:"/api/polaris/searchterm"}},homepage:{urls:{flipper:"/sebin/y/d/homepage-flipper.json",events:"/api/evanced/signup/events"}},libAnswers:{allBranchIds:[6319,6864,6865,6866,6867,6868,6869,6870,6871,6872,6873,6874,6875,6876,6877,6878,6879,6777,6880,6881],generalBranchId:7783,widgetJs:"//api2.libanswers.com/js2.18.5/LibAnswers_widget.min.js"},shared:{urls:{alerts:"/api/structured-content/alerts",alertNotification:"/api/structured-content/alerts-notification",bookCarousels:"https://services.bcpl.info/api/polaris/carousel/CAROUSEL_ID"}},expressions:{justWordCharacters:/\w+/g}},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var a=t[i];if(e.call(r,a,i,t))return a;i++}}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var i=0|t,a=Math.max(i>=0?i:r-Math.abs(i),0);a<r;){if(function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(n[a],e))return!0;a++}return!1}}),namespacer("bcpl.utility"),bcpl.utility.googleAnalytics=function(){var e=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t=void 0,n=["bcpl.info","bcpl.lib.md.us"],r=function(){document.addEventListener("click",i)},i=function(t){var n=$(t.target).is("a")?t.target:$(t.target).closest("a")[0];a(n)&&(n&&(e(n,"href")||!!n.href)&&(t.preventDefault(),u(n.href)))},a=function(t){return!(!t||!e(t,"hostname")&&!t.hostname||!t.hostname||t.hostname===window.location.hostname||l(t.hostname)||c(t)||s(t.href))},o=/(https?:\/\/)?(javascript|return).*[:;\)]/i,s=function(e){return!e||o.test(e)},c=function(e){return e.href&&e.href.indexOf("addthis")>-1},l=function(e){return!!n.filter(function(t){return e.endsWith(t)}).length},u=function(e){t("event","click",{event_category:"outbound",event_label:e,transport_type:"beacon",event_callback:function(){document.location=e}})};return{addOutboundLinkTracking:r,handleExternalLinkClick:i,init:function(i){if(!window.gtag)return void console.error("Google Analytics Not Loaded");t=window.gtag,n=i&&e(i,"validHostNames")?i.validHostNames:n,r()},isEmptyOrInvalidHref:s,isExternalLink:a,isShareThisLink:c,trackOutboundLink:u}}(),namespacer("bcpl.utility"),bcpl.utility.browserStorage=function(e){var t=function(t){try{return e.getItem(t)}catch(e){return console.error(e)}},n=function(t,n){try{return e.setItem(t,n)}catch(e){return console.error(e)}};return{local:function(r,i){return e?r&&"string"==typeof r?i&&"string"==typeof i?n(r,i):t(r):console.error("Your local storage key must be a string. Nothing stored."):console.error("Local storage is not supported in this browser.")}}}(localStorage),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}(),namespacer("bcpl.utility"),bcpl.utility.debounce=function(){return function(e,t){var n=void 0;return function(){var r=this,i=arguments,a=function(){return e.apply(r,i)};clearTimeout(n),n=setTimeout(a,t)}}}(),namespacer("bcpl.utility"),bcpl.utility.flexDetect=function(e,t){return{init:function(n){void 0!==(n||e).createElement("div").style.flex||t("body").addClass("no-flex")}}}(document,jQuery),$(function(){bcpl.utility.flexDetect.init()}),namespacer("bcpl.utility"),bcpl.utility.format=function(){function e(e){if(e){"string"==typeof e&&(e=parseFloat(e));return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)}}function t(e,t){"number"==typeof e&&(e=e.toString());var n=/\d+/g,r=e.match(n).join("").split(""),i=t.split("").filter(function(e){return"x"===e}).length,a=i+1===r.length;return a&&r.shift(),i===r.length||a?(r.forEach(function(e){t=t.replace("x",e)}),t):(console.error("Incorrect Format. Double Check your values."),null)}function n(e,t,n){return r[e](t,n)}var r={currency:e,phoneNumber:t};return n}(),function(e){var t=/(\s*\S+|\s)$/,n=/^(\S*)/;e.truncate=function(t,n){return e("<div></div>").append(t).truncate(n).html()},e.fn.truncate=function(r){e.isNumeric(r)&&(r={length:r});var i=e.extend({},e.truncate.defaults,r);return this.each(function(){var r=e(this);i.noBreaks&&r.find("br").replaceWith(" ");var a=r.text(),o=a.length-i.length;if(i.stripTags&&r.text(a),i.words&&o>0){var s=a.slice(0,i.length).replace(t,"").length;o=i.keepFirstWord&&0===s?a.length-n.exec(a)[0].length-1:a.length-s-1}o<0||!o&&!i.truncated||e.each(r.contents().get().reverse(),function(t,n){var r=e(n),a=r.text(),s=a.length;return s<=o?(i.truncated=!0,o-=s,void r.remove()):3===n.nodeType?(i.finishBlock?e(n.splitText(s)).replaceWith(i.ellipsis):e(n.splitText(s-o-1)).replaceWith(i.ellipsis),!1):(r.truncate(e.extend(i,{length:s-o})),!1)})})},e.truncate.defaults={stripTags:!1,words:!1,keepFirstWord:!1,noBreaks:!1,finishBlock:!1,length:1/0,ellipsis:"â€¦"}}(jQuery),namespacer("baltimoreCounty.utility"),baltimoreCounty.utility.numericStringTools=function(){var e=function(e){return/[$]/.test(e[0])&&e.length>1?1:0},t=function(e){var t=/^\.{0,1}(\d+[,.]{0,1})*\d+\b/,n=e.match(t);return n?parseFloat(n[0].split(",").join("")):e};return{getIndexOfFirstDigit:e,extractNumbersIfPresent:function(n){var r=e(n),i=n.slice(r),a=t(i);return"number"==typeof a?a:n},getFirstSetOfNumbersAndRemoveNonDigits:t}}(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},writable:!0,configurable:!0}),namespacer("bcpl.utility"),bcpl.utility.querystringer=function(){return{getAsDictionary:function(e){var t=e||window;if(t.location.search){for(var n=t.location.search.slice(1),r=n.split("&"),i={},a=0;a<r.length;a+=1){var o=r[a].split("=");i[o[0].toLowerCase()]=2===o.length?o[1]:""}return i}return!1}}}(),namespacer("bcpl.utility"),bcpl.utility.regexTools=function(){return{removeMatchingCharacters:function(e,t){for(var n=void 0,r=[];null!==(n=t.exec(e));)r.push(n[0]);return r.join("")}}}(),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),namespacer("bcpl.utility"),bcpl.utility.urlComparer=function(e){var t={fileName:0,slash:1,folderName:2},n=function(e){var n=e.split("/"),r=n[n.length-1],i=r.lastIndexOf("."),a=r.lastIndexOf("/");return""===r?t.slash:i>-1&&i>a?t.fileName:t.folderName},r=function(e,r){var a=n(e),o=n(r);if(a===o)return r.endsWith(e);switch(o){case t.folderName:return i(e,a).endsWith(r);case t.slash:return(i(e,a)+"/").endsWith(r);default:return e.endsWith(r)}},i=function(n,r){var i=n.split("/"),a=i.length,o=i[i.length-1].toLowerCase()===e.defaultDocument;if(r===t.folderName)return n;if(a>0&&r===t.fileName&&!o)return n;switch(a){case 0:return"";case 1:return i[0];default:return Array.prototype.join.call(i.slice(0,i.length-1),"/")}};return{isSamePage:r,getEndingType:n,removeFilenameAndTrailingSlash:i,hrefEndingTypes:t}}(bcpl.constants),namespacer("bcpl.utility"),bcpl.utility.windowResize=function(e){return function(t){window.addEventListener("resize",e(t,250))}}(bcpl.utility.debounce),namespacer("bcpl.utility"),bcpl.utility.windowShade=function(e,t){var n=void 0,r=void 0,i=void 0,a=function(e){return'<div id="window-shade" style="display: none">\n            <p>'+e+"</p>\n        </div>"},o=function(e){e.slideDown(r,function(){n=setTimeout(function(){e.slideUp(r)},i)})},s=function(e,t){r=e||250,i=t||2e3},c=function(t){var n=a(t);e("body").append(n)};return{cycle:function(t,r){s(t,r);var i=e("#window-shade");clearTimeout(n),o(i)},cycleWithMessage:function(t,r,i){s(r,i);var a=e("#window-shade");a&&a.remove(),c(t),a=e("#window-shade"),clearTimeout(n),o(a)}}}(jQuery),namespacer("bcpl"),bcpl.accordion=function(e){var t="h1:first-child a i, h2:first-child a i, h3:first-child a i, h4:first-child a i, p:first-child a i",n=/^#[\w-]+$/,r=function(n){e(n.currentTarget).closest(".content-accordion .panel").find(t).removeClass("fa-chevron-right").addClass("fa-chevron-down")},i=function(n){e(n.currentTarget).closest(".content-accordion .panel").find(t).removeClass("fa-chevron-down").addClass("fa-chevron-right")},a=function(t){e("html, body").animate({scrollTop:t.first().offset().top},250)},o=function(){var t=window.location.hash;if(t&&t.length&&n.test(t)){var r=e("a[name="+t.replace("#","")+"]");if(!r.length)return;r.closest(".collapse").collapse("show").on("shown.bs.collapse",function(){return a(r)})}};return{init:function(){e(document).on("show.bs.collapse",".content-accordion-body",r),e(document).on("hide.bs.collapse",".content-accordion-body",i),o()}}}(jQuery),$(function(){bcpl.accordion.init()}),namespacer("bcpl"),bcpl.alertBox=function(e,t,n){var r=void 0,i=void 0,a=function(e){e.data.$container.addClass("dismissed").closest(".emergency").removeClass("emergency"),sessionStorage&&sessionStorage.setItem("isAlertDismissed",!0)},o=function(n){var r=e("#alerts-template").html(),i=e("#alerts-target");if(r&&r.length){var a=t.compile(r);i.html(a({alertData:n}))}d(!n)},s=function(t){t&&"function"==typeof t?e.ajax(n.baseApiUrl+n.shared.urls.alertNotification).then(function(e){return c(e,t)},function(){return l(t)}):console.error("A missing or invalid callback has been supplied.")},c=function(e,t){return e?t(e,!0):t(void 0,!1)},l=function(e){return e(void 0,!1)},u=function(e){e.addClass("dismissed").show()},d=function(t){r=e("#alert-box-dismiss"),i=e(".alert-container"),r.on("click",{$container:i},a),sessionStorage&&sessionStorage.getItem("isAlertDismissed")||t?u(i):setTimeout(function(){i.slideDown(250)},500)};return{init:function(){s(function(e){return o(e)})}}}(jQuery,Handlebars,bcpl.constants),$(function(){bcpl.alertBox.init()}),namespacer("bcpl"),bcpl.bookCarousel=function(e,t){var n=[],r={infinite:!0,arrows:!0,lazyLoad:"progressive",prevArrow:'<a href="#"><i class="fa fa-chevron-left" aria-hidden="true"><span>Scroll left</span></i></a>',nextArrow:'<a href="#"><i class="fa fa-chevron-right" aria-hidden="true"><span>Scroll right</span></i></a>',slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:t.breakpoints.large,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:t.breakpoints.medium,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:t.breakpoints.small,settings:{slidesToShow:1,slidesToScroll:1}}]},i=!1,a=function(n){var r=t.shared.urls.bookCarousels.replace("CAROUSEL_ID",n);return e.ajax(r).then(function(e){return c(e,n)})},o=function(e,t){return 3===t.nodeType},s=function(t){return e(t).text().split(",").slice(0,2).join(",")},c=function(t,n){var r=e(t.Carousel_Str),i=r.find("li").map(function(e,t){return l(e,t)});e(".book-carousel[data-carousel-id="+n+"]").append(i.get())},l=function(n,r){var a=e(r),c=a.find("img"),l=a.find("a"),u=c.attr("title"),d=u.split(":")[0],f=encodeURIComponent(d),p=e("<p>"+d+"</p>");if(c.attr("src",c.attr("src").toLowerCase().replace("sc.gif","mc.gif")).attr("style","").attr("title","").attr("alt",c.attr("alt")+" - book cover"),l.text("").append(c).append(p),i){var h=s(a.find("div").eq(1).contents().filter(o)),v=t.baseCatalogUrl+"/polaris/search/searchresults.aspx?ctx=1.1033.0.0.5&type=Boolean&term=AU=%22"+h+"%22%20AND%20TI=%22"+f+"%22&by=KW&sort=MP&limit=&query=&page=0";l.attr("href",v)}return e('<div class="inner"></div>').append(l)};return{init:function(t){var o=e(".book-carousel");t&&(t.isTitleSearch&&(i=t.isTitleSearch),t.isGrid&&o.addClass("grid")),o.each(function(t,r){var i=e(r),o=i.attr("data-carousel-id");n.push(a(o))}),t&&t.isGrid||e.when.apply(e,n).then(function(){t&&t.maxSlides>0&&(r.slidesToShow=t.maxSlides,r.slidesToScroll=t.maxSlides),o.slick(r)})}}}(jQuery,bcpl.constants),namespacer("bcpl"),bcpl.boostrapCollapseHelper=function(e){return{toggleCollapseByIds:function(t){var n=t.activePanels,r=t.inActivePanels;n.forEach(function(t){e("#"+t).collapse("show")}),r.forEach(function(t){e("#"+t).collapse("hide")})}}}(jQuery),namespacer("bcpl"),bcpl.breadCrumbs=function(e){var t={popover:'<div class="popover breadcrumb-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'},n={breadCrumbContainer:"breadcrumbs-wrapper",firstBreadCrumb:"breadcrumb-first",hiddenBreadCrumbContainer:"hidden-breadcrumb-container",hiddenBreadCrumbTrigger:"hidden-breadcrumb-trigger",hiddenBreadCrumbPopover:"hidden-breadcrumb-popover"},r={breadCrumbChildren:".breadcrumbs-wrapper a, .breadcrumbs-wrapper span"},i=function(e){var t=o(e);return'<div class="'+n.hiddenBreadCrumbContainer+" "+n.hiddenBreadCrumbPopover+' breadcrumb breadcrumb-alt" data-toggle="popover" id="tip1"><div class="tooltip-arrow"></div>'+t+"</div>"},a=function(t){var n=t.toArray().map(function(t){var n=e(t).clone();return n.removeClass("breadcrumb").removeAttr("style"),"<li>"+n[0].outerHTML+"</li>"}).join("");return n.length?'<ul class="hidden-breadcrumb-list">'+n+"</ul>":""},o=function(e){return'<span class="'+e+'"><i class="fa fa-circle" aria-hidden="true"></i><i class="fa fa-circle" aria-hidden="true"></i><i class="fa fa-circle" aria-hidden="true"></i></span>'},s=function(t){return!e.trim(t.html().replace(/(?:\r\n|\r|\n|\s|&nbsp;)/g,""))},c=function(){var t="."+n.breadCrumbContainer,i=""+r.breadCrumbChildren,a=e(i);e(i).remove(),a.html(function(e,t){return t.replace(/(?:\r\n|\r|\n|&nbsp;)/g,"")}),e(t).append(a).find("*").toArray().forEach(function(t){var n=e(t);s(n)&&n.remove()})},l=function(e){e.hide()},u=function(){var t=i(n.hiddenBreadCrumbTrigger);e("."+n.firstBreadCrumb).after(t)},d=function(){return e(".breadcrumbs-wrapper").find(".breadcrumb")},f=function(e){return e.not(":first,:last")},p=function(r){var i=a(r);e("."+n.hiddenBreadCrumbPopover).popover({content:i,html:!0,placement:"bottom",template:t.popover})},h=function(t){e(t.currentTarget).toggleClass("active")},v=function(e,t){t?e.show():e.hide()},b=function(t){var r=t||3,i=e("."+n.breadCrumbContainer);v(i,!1),c();var a=d();if(a.length>r){var o=f(a);l(o),u(),p(o)}v(i,!0)};return e(document).on("click",".hidden-breadcrumb-container",h),{cleanBreadCrumbs:c,collapseBreadCrumbs:l,$getBreadCrumbs:d,$getBreadCrumbsToHide:f,init:b}}(jQuery),$(function(){bcpl.breadCrumbs.init()}),namespacer("bcpl"),bcpl.catalogSearch=function(e,t,n){var r=function(e){return""+n.baseCatalogUrl+n.search.urls.catalog+e},i=function(e){e.preventDefault();var n=t.getAsDictionary(),i=n.term;window.location=r(i)};return e(document).on("click","#catalog-search, .catalog-search",i),{getCatalogUrl:r}}(jQuery,bcpl.utility.querystringer,bcpl.constants),namespacer("bcpl"),bcpl.contraster=function(e,t){var n={styleSheet:{high:"/sebin/x/v/master-high-contrast.min.css"},selectors:{contrastButton:"#contrastButton",stylesheetMaster:"#stylesheetMaster",stylesheetMasterHighContrast:"#stylesheetMasterHighContrast",toggleText:".toggle-text"}},r={},i=function(r){var i=r.data||n,a=e(r.currentTarget);if(a.is(n.selectors.toggleText))return void a.closest(".contraster").find("input").trigger("click");var o=e(i.selectors.stylesheetMaster);if(o.length){var s=e(i.selectors.stylesheetMasterHighContrast);s.length?(s.remove(),t.local("isHighContrast","false")):(o.after('<link id="stylesheetMasterHighContrast" href="'+i.styleSheet+'" rel="stylesheet">'),t.local("isHighContrast","true"))}};return{init:function(a){r.styleSheet=a.stylesheetUrl&&"string"==typeof a.stylesheetUrl?a.stylesheetUrl:n.styleSheet.high,r.selectors={contrastButton:a.contrastButtonSelector&&"string"==typeof a.contrastButtonSelector?a.contrastButtonSelector:n.selectors.contrastButton,stylesheetMaster:a.stylesheetMasterSelector&&"string"==typeof a.stylesheetMasterSelector?a.stylesheetMasterSelector:n.selectors.stylesheetMaster,stylesheetMasterHighContrast:a.stylesheetMasterHighContrastSelector&&"string"==typeof a.stylesheetMasterHighContrastSelector?a.stylesheetMasterHighContrastSelector:n.selectors.stylesheetMasterHighContrast};var o=e(r.selectors.contrastButton);o.length&&o.on("click",r,i).last().prop("checked",!1),"true"===t.local("isHighContrast")?o.first().trigger("click"):t.local("isHighContrast","false")}}}(jQuery,bcpl.utility.browserStorage),namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.featuredEvents=function(e){var t=function(t){e(t.currentTarget).find(".animated").addClass("active")},n=function(t){e(t.currentTarget).find(".animated").removeClass("active")};e(document).on("mouseover",".post",t),e(document).on("mouseout",".post",n)}(jQuery),namespacer("bcpl"),bcpl.filter=function(e,t){var n={},r=function(t,n){t.find(".tag-list button").each(function(t,r){var i=e(r);i.text().trim().toLowerCase()===n&&i.addClass("active")})},i=function(e,t,n,i,a){var o=e.items,s=_.sortBy(o,function(e){return e.name}),c=e;c.items=s;var l=t.html();if(l&&l.length){var u=Handlebars.compile(l),d=u(c);n.html(d)}i&&a&&r(n,i),n.not(".collapse").is(":hidden")&&n.fadeIn(250)},a=function(e){var t=[];_.each(e,function(e){t=t.concat(e.attributes)});var n=_.uniq(t);return _.sortBy(n,function(e){return e})},o=function(e,t){return _.intersection(e,t.attributes).length===e.length},s=function(r,a){var s=[],c=[],l=e(r.currentTarget),u=e("#filters label"),d=u.has("input:checked"),f=l.closest("label").text().trim().toLowerCase(),p=l.prop("checked");u.not("input:checked").removeClass("active"),d.addClass("active"),d.each(function(e,t){s.push(t.innerText)}),_.each(n,function(e){o(s,e)&&c.push(e)}),t.cycle(250,2e3);var h={items:c,length:c.length};e("#results-display").trigger("bcpl.filter.changed",h).fadeOut(250,function(){i(h,e("#results-display-template"),e("#results-display"),f,p)})},c=function(t){n="string"==typeof t?JSON.parse(t):t,i({items:n,length:n.length},e("#results-display-template"),e("#results-display"));var r=a(n);i(r,e("#filters-template"),e("#filters"))},l=function(e,t,n){console.log("err",n)},u=function(t){e(t.currentTarget).siblings(".collapse-control").html('<i class="fa fa-minus"></i> Hide Filters')},d=function(t){e(t.currentTarget).siblings(".collapse-control").html('<i class="fa fa-plus"></i> Show Filters')},f=function(t){var n=e(t.currentTarget),r=n.text().trim().toLowerCase();e("#filters label").each(function(t,i){var a=e(i);a.text().trim().toLowerCase()===r?(a.find("input").trigger("click",{shouldClearFilters:!0}),n.toggleClass("active")):n.removeClass("active")})};return{init:function(t){t(c,l),document.createEvent("Event").initEvent("bcpl.filter.changed",!0,!0),e(document).on("click",".tag-list button",f).on("change","#filters input",s).on("show.bs.collapse","#filters",u).on("hide.bs.collapse","#filters",d)}}}(jQuery,bcpl.utility.windowShade),namespacer("bcpl"),bcpl.libAnswers=function(e,t){var n=t.libAnswers.generalBranchId,r=t.libAnswers.widgetJs,i=void 0,a=function(t,n){e(document).on("click",t,l),n&&e(document).on(n,u)},o=function(e){var t=e||{};return t.ids=t.ids||[n],t.loadEvent=t.loadEvent||null,t.targetSelector=t.targetSelector||".branch-email",t},s=function(e,t){f(e);var n=document.createElement("script");n.type="text/javascript",n.src=e,document.getElementsByTagName("head")[0].appendChild(n),t&&"function"==typeof t&&t()},c=function(e){e.forEach(function(e){s("https://api2.libanswers.com/1.0/widgets/"+e)}),setTimeout(function(){d()},1e3)},l=function(t){t.preventDefault(),e(t.currentTarget).parent().find('[id*="s-la-widget"]').trigger("click")},u=function(){c(i.ids)},d=function(){f(r,!0),p(".s-la-widget .btn-default")},f=function(t,n){e(n?'script[src*="'+t+'"]:not(:first)':'script[src*="'+t+'"]').remove()},p=function(t){e("style:contains("+t+")").toArray().forEach(function(n){var r=e(n);r.html().indexOf(t)>-1&&r.remove()})},h=function(e){v(i.targetSelector,e)},v=function(t,n){var r='<div id="s-la-widget-'+n+'"></div>',i=e("#s-la-widget-"+n),a=e(r).css("display","none");i.length||e(t).after(a)};return{init:function(e){i=o(e),s(r,function(){i.ids.forEach(h),i.loadEvent||c(i.ids),a(i.targetSelector,i.loadEvent)})},removeScriptByUrl:f,removeStyleTagByContainingRule:p}}(jQuery,bcpl.constants),function(e){e(document).ready(function(){bcpl.libAnswers.init()})}(jQuery),function(e,t){var n=function(e){var t=e.attr("id").split("_");return t[t.length-1]},r=function(t){return e("#s-la-widget-"+t).closest("card").find(".branch-name").text().trim()},i=function(e,n){return e&&e.toLowerCase().indexOf("mobile services")>-1?"Email the "+e:t.libAnswers.generalBranchId===parseInt(n,10)?"Email a General Question or Request":"Email the "+e+" Branch"},a=function(t){var a=e(t.currentTarget),o=a.find("form"),s=n(o),c=r(s);if(c){var l=i(c,s);a.find(".modal-title").text(l)}};e(document).on("show.bs.modal","#s-la-widget-modal",a)}(jQuery,bcpl.constants),namespacer("bcpl"),bcpl.navigationSearch=function(e){var t=function(e,t){return parseFloat(e.width())<=t},n=function(t,n){n.removeClass("active"),t.removeClass("active"),e("#responsive-sliding-navigation .active").removeClass("active"),e("body").removeClass("nav-visible")},r=function(t){var n=e("header"),r=t.data.$searchBox,i=t.data.$menu,a=e(t.currentTarget),o=t.data.$modalCover;n.first().trigger("click"),r.removeClass("active"),a.addClass("active"),i.addClass("active"),o.addClass("active"),e("body").addClass("nav-visible")},i=function(n){n&&!t(e("body"),768)?e(".hero-callout-container").hide():e(".hero-callout-container").show()},a=function(t){var n=e(t.target),r=n.closest(".search-button-container").length;n.closest("#search-box").length||r||e("#search-box").is(":visible")&&e("#activate-search-button").trigger("click")},o=function(e){var t=e.data.$navAndSearchContainerSelector,n=e.data.$searchBox,r=e.data.$searchButtonActivator,a=e.data.$hamburgerButton,o=n.is(":hidden");i(o);var s=r.add(n);o?(s.addClass("active"),t.addClass("search-is-active"),a.add("#responsive-sliding-navigation li").removeClass("active")):(s.removeClass("active"),t.removeClass("search-is-active"),a.addClass("active"))},s=function(t){var n=e(t.currentTarget).siblings("input").first().val();t.data.browserWindow.location=bcpl.constants.basePageUrl+"/search.html?q="+n+"&page=1&resultsPerPage=10"},c=function(t){var r=t.data.$menu,i=t.data.$modalCover,a=e("#responsive-sliding-navigation .active");a.length?a.find(".submenu-wrapper").animate({right:"-300px"},250,function(){e(this).closest("li.active").removeClass("active").closest("ul").removeClass("sub-menu")}):n(r,i)},l=void 0,u=function(t,r){var i=t.data.$menu,a=t.data.$modalCover;parseFloat(e("body").css("width"))>768&&i.hasClass("animatable")?(n(i,a),i.removeClass("animatable")):(l&&clearTimeout(l),l=setTimeout(function(){i.addClass("animatable"),r&&"function"==typeof r&&r()},500))};return{init:function(){var t=e(".nav-and-search"),n=e("#activate-search-button"),i=e("#search-box"),l=e("#search-button"),d=e("#hamburger-menu-button"),f=e("#responsive-sliding-navigation"),p=e("#responsive-sliding-navigation > .nav-back-button button"),h=e("#modal-cover");n.on("click",{$navAndSearchContainerSelector:t,$searchBox:i,$searchButtonActivator:n,$hamburgerButton:d},o),d.on("click",{$searchBox:i,$searchButtonActivator:n,$menu:f,$modalCover:h},r),l.on("click",{browserWindow:window},s),p.on("click",{$menu:f,$modalCover:h},c),h.on("click",{$menu:f,$modalCover:h},c),e(document).on("click",a),e(window).on("resize",{$menu:f,$modalCover:h},u),parseFloat(e("body").css("width"))<=768&&f.addClass("animatable")}}}(jQuery),$(function(){bcpl.navigationSearch.init()}),namespacer("bcpl"),bcpl.navigation=function(e,t){var n="#responsive-sliding-navigation>ul>li",r=function(e,t){return parseFloat(e.width())<=t},i=function(){return e("body").hasClass("nav-visible")},a=function(t){e("#responsive-sliding-navigation li.active a").first().focus(),"function"==typeof t&&t()},o=function(e){return e.closest(n).find("button")},s=function(t,n){e(t).find("ul").attr("aria-hidden",!1),n&&"function"==typeof n&&n()},c=function(e,t){var n=i()?{right:"0px"}:{},r=i()?250:0;e.attr("aria-expanded",!0).closest("li").addClass("active").find(".submenu-wrapper").animate(n,r,function(){s(this,t)})},l=function(t,n){e(t).siblings("button").attr("aria-expanded",!1).closest("li").removeClass("active").attr("aria-hidden",!0),n&&"function"==typeof n&&n()},u=function(e,t){var n=i()?{right:"-300px"}:{},r=i()?250:0;e.siblings(".submenu-wrapper").animate(n,r,function(){l(this,t)})},d=function(){return u(e("#responsive-sliding-navigation").find("li.active button"))},f=function(){return e("#activate-search-button, #search-box").removeClass("active")},p=function(t){t&&!r(e("body"),768)?e(".hero-callout-container").hide():e(".hero-callout-container").show()},h=function(t){if(window.innerWidth<=768){var n=e(t.currentTarget),r=n.closest("li").hasClass("active"),i=n.closest("ul");f(),d(),r?(u(n),i.removeClass("sub-menu")):(c(n),i.addClass("sub-menu")),p(!r)}},v=function(n){var r=n.which||n.keyCode,i=e(n.currentTarget).closest("#responsive-sliding-navigation").find("li.active button");switch(r){case t.escape:u(i),i.focus(),p(!1)}},b=function(n){var r=n.which||n.keyCode,i=e(n.currentTarget);switch(r){case t.rightArrow:n.preventDefault(),u(i),i.parent().next().find("button").focus();break;case t.leftArrow:n.preventDefault(),u(i),i.parent().prev().find("button").focus();break;case t.downArrow:case t.upArrow:case t.enter:var a=e("#activate-search-button, #search-box");n.preventDefault(),d(),c(i),i.siblings(".submenu-wrapper").find("a:visible").first().focus(),a.is(":visible")&&f()}},g=function(r){var i=r.which||r.keyCode,s=e(r.currentTarget),l=s.closest(".active, .clicked").find("a:visible"),f=o(s);switch(i){case t.upArrow:r.preventDefault(),l.index(s)-1==-1?l.eq(0).focus():l.eq(l.index(s)-1).focus();break;case t.leftArrow:r.preventDefault(),s.closest(n).prev("li").length&&u(f,function(){c(s.closest(n).prev("li").find("button")),a()});break;case t.downArrow:r.preventDefault(),l.eq(l.index(s)+1).focus();break;case t.rightArrow:r.preventDefault(),s.closest(n).next("li").length&&u(f,function(){c(s.closest(n).next("li").find("button")),a()});break;case t.space:case t.enter:r.preventDefault(),s[0].click(),d()}},m=function(e){e.preventDefault(),window.history.back()},y=function(e){clearTimeout(e)},w=void 0,C=function(t){window.window.innerWidth>768&&(y(w),w=setTimeout(function(){e(t.target).closest("li").siblings().removeClass("active").end().addClass("active"),p(!0),f()},250))},k=function(t){e(t.relatedTarget).closest("#responsive-sliding-navigation").length||r(e("body"),768)||(y(w),d(),p(!1))};e(document).on("mouseover",".nav-and-search:not(.search-is-active) #responsive-sliding-navigation button, #responsive-sliding-navigation .submenu-wrapper",C).on("mouseleave",".nav-and-search:not(.search-is-active) #responsive-sliding-navigation button, #responsive-sliding-navigation .submenu-wrapper",k).on("keydown","#responsive-sliding-navigation button",b).on("keydown","#responsive-sliding-navigation",v).on("click",".nav-and-search:not(.search-is-active) #responsive-sliding-navigation button",h).on("click",".window-back",m).on("keydown","#responsive-sliding-navigation a",g)}(jQuery,bcpl.constants.keyCodes),namespacer("bcpl"),bcpl.relatedTopicsWidget=function(e){var t=function(t){return e(".secondary-nav").after(t)},n=function(e){return e.removeClass("hidden")};e(function(){var r=e(".related-topics-widget");r.length&&(t(r),n(r))})}(jQuery),namespacer("bcpl"),bcpl.scrollToTop=function(e,t,n){var r=function(){e("body, html").animate({scrollTop:0},250)},i=function(){0===t.pageYOffset?e("#scroll-to-top").fadeOut(200):e("#scroll-to-top").fadeIn(200)};return{init:function(){e(document).on("click","#scroll-to-top",r),e(t).on("scroll",n.debounce(i,100))}}}(jQuery,window,_),$(function(){return bcpl.scrollToTop.init()}),namespacer("bcpl"),bcpl.siteSearch=function(e,t,n,r){var i={},a=function(){k(t)},o=function(){e("#site-search-input").val("")},s=function(){e("#site-search-input").typeahead("destroy")},c=function(){e("#site-search-input").typeahead({source:C,minLength:2,highlight:!0,autoSelect:!1,delay:100,sorter:function(e){return e},afterSelect:a})},l=function(t){e(t).closest(".nav-and-search").find("#site-search-input").focus()},u=function(e){return e?e.map(function(e){return{id:e.Id,name:e.Name}}):[]},d=function(){var e=r.getAsDictionary().filter;return"&filter="+(e&&e.length>0?e:"content")},f=function(e){return e&&Object.prototype.hasOwnProperty.call(e,"Results")?e.Results:[]},p=function(){var t=e("#site-search-input").val()||"",n=t.trim();return encodeURIComponent(n)},h=function(e){return""+n.baseApiUrl+n.search.urls.searchTerms+"/"+e},v=function(e){l(e.currentTarget),i.search=function(){return k(t)},c()},b=function(e){l(e.currentTarget),i.search=function(){return T(t)},s()},g=function(){var e=p();i&&i.search&&e.length&&i.search()},m=function(e){l(e.currentTarget),i.search=function(){return S(t)},s()},y=function(e){if((e.which||e.keyCode)===bcpl.constants.keyCodes.enter){var t=p();i&&i.search&&t.length&&i.search(t)}},w=function(t){var n=e(t.currentTarget).siblings().removeClass("active").end().addClass("active"),r=n.find("i span").text().trim();e("#site-search-input").attr("placeholder",""+r)},C=function(t,n){var r=h(t);return e.get(r,{},function(e){var t=f(e),r=u(t);return n(r)})},k=function(e,t){var r=t||p();if(r.length){var i=n.baseCatalogUrl,a=n.search.urls.catalog;e.location.href=""+i+a+r}},T=function(e){var t=p();if(t.length){var r=n.baseWebsiteUrl,i=n.search.urls.events;e.location.href=""+r+i+t}},S=function(e){var t=p();if(t.length){var r=n.baseWebsiteUrl,i=n.search.urls.website;e.location.href=""+r+i+t+d()}};e(document).on("click",".search-button",w).on("click",".site-search-input-container .fa-search",g).on("click",".search-button-catalog",v).on("click",".search-button-events",b).on("click",".search-button-website",m).on("keyup","#site-search-input",y),e(v),e(function(){o()})}(jQuery,window,bcpl.constants,bcpl.utility.querystringer),namespacer("bcpl"),bcpl.slideDownNav=function(e){var t=function(e){e.removeClass("active").find("i").removeClass("fa-angle-up").addClass("fa-angle-down")},n=function(n){n.preventDefault();var r=e(n.currentTarget),i=r.data("target"),a=e("#"+i);a.is(":visible")?(a.slideUp(500),t(r)):a.siblings().slideUp(500,function(){a.slideDown(500),t(r.siblings()),r.addClass("active").find("i").removeClass("fa-angle-down").addClass("fa-angle-up")})};e(document).on("click",".slide-down-nav-item[data-target]",n)}(jQuery),namespacer("bcpl"),bcpl.smartSideNav=function(e,t,n){var r=n,i=function(e,t){return e?e.toLowerCase().split(t)[0]:""},a=function(e,t){return t.reduce(i,e)},o=function(n,i){var o=e(i),s=o.attr("href");if(o.removeClass("active"),s){var c=["?","#"],l=a(s,c),u=a(r.location.href,c);if(t.isSamePage(l,u))return o.addClass("active"),!1}return!0};return{init:function(e){
e&&(r=e)},setCurrentPageLinkActive:function(){e(".secondary-nav nav ul li a").each(o)}}}(jQuery,bcpl.utility.urlComparer,window),$(function(){bcpl.smartSideNav.init(),bcpl.smartSideNav.setCurrentPageLinkActive()}),namespacer("bcpl"),bcpl.tablenator=function(e,t){var n=void 0,r=void 0,i=void 0,a=function(t,r){var i=[];return t&&0!==t.length&&r&&0!==r.length?(r.each(function(r,a){var o=e('<table class="tablenator-responsive-table" style="display:none"><tbody></tbody></table>'),s=o.find("tbody"),c=e(a);t.each(function(r){var i=t.eq(r).text(),a=c.find("td").eq(r).html().trim(),o=e(e.parseHTML(a)),l=o.is('input:not([type="hidden"])')?o:o.find('input:not([type="hidden"])');l.length&&(u(n,"onDataInput",l),a=o&&o.length?o[0].outerHTML:""),i&&a&&s.append("<tr><td>"+i+"</td><td>"+a+"</td></tr>")}),i.push(o)}),i):i},o=function(t,i,o){var s=e(i),c=s.find("th"),l=s.find("tr").not(c.closest("tr"));a(c,l).reverse().map(function(e){return n.isParentForm?r.eq(t).closest("form").after(e):r.eq(t).parent().append(e)}),s.hide(),o&&"function"==typeof o&&o()},s=function(t){e(t.target).width()<i?(r.hide(),e(".tablenator-responsive-table").show(),u(n,"onMobileSize")):(r.show(),e(".tablenator-responsive-table").hide(),u(n,"onDefaultSize"))},c=function(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)},l=function(e,t){return c(e,t)?e[t]:null},u=function(e,t,r){n[t]&&"function"==typeof n[t]&&n[t](r,e)},d=function(e){n=e||{},n.isParentForm=!!c(e,"isParentForm")&&e.isParentForm,n.$originalTableCache=r,n.tablenatorPrefix="tablenator-",n.responsiveTableClass="tablenator-responsive-table",n.afterInit=l(e,"afterInit"),n.onMobileSize=l(e,"onMobileSize"),n.onDefaultSize=l(e,"onDefaultSize"),n.onDataInput=l(e,"onDataInput")};return{init:function(a,c,l){if(r=e(a),d(l),c&&"number"==typeof c&&(i=c,r.length)){r.each(function(e,t){o(e,t,function(){u(n,"afterInit",null)})});var f=t.debounce(s,100);e(window).on("resize",f)}}}}(jQuery,_),namespacer("bcpl"),bcpl.tabs=function(e){var t=function(t){var n=e(t.currentTarget),r=t.data.$tabContainer.find(".tab"),i=n.index(),a=r.eq(i);t.data.$tabControls.add(r).removeClass("active"),a.addClass("active"),n.addClass("active").trigger("tabControlChanged").closest("ul").toggleClass("open")};return{init:function(){var n=e(".tabs"),r=n.find(".tab-control");r.on("click",{$tabContainer:n,$tabControls:r},t)}}}(jQuery),$(function(){bcpl.tabs.init()});