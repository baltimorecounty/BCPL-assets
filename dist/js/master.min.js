"use strict";var namespacer=function(e){var t=e.split("."),n=window;if(t.length)for(var a=0;a<t.length;a+=1){var i=t[a];void 0===n[i]&&(n[i]={}),n=n[i]}};namespacer("bcpl.utility"),bcpl.utility.flexDetect=function(e,t){return{init:function(n){void 0!==(n||e).createElement("div").style.flex||t("body").addClass("no-flex")}}}(document,jQuery),$(function(){bcpl.utility.flexDetect.init()}),namespacer("baltimoreCounty.utility"),baltimoreCounty.utility.numericStringTools=function(){var e=function(e){return/[$]/.test(e[0])&&e.length>1?1:0},t=function(e){var t=/^\.{0,1}(\d+[,.]{0,1})*\d+\b/,n=e.match(t);return n?parseFloat(n[0].split(",").join("")):e};return{getIndexOfFirstDigit:e,extractNumbersIfPresent:function(n){var a=e(n),i=n.slice(a),s=t(i);return"number"==typeof s?s:n},getFirstSetOfNumbersAndRemoveNonDigits:t}}(),namespacer("bcpl.utility"),bcpl.utility.querystringer=function(){return{getAsDictionary:function(e){var t=e||window;if(t.location.search){for(var n=t.location.search.slice(1),a=n.split("&"),i={},s=0;s<a.length;s+=1){var o=a[s].split("=");i[o[0].toLowerCase()]=2===o.length?o[1]:""}return i}return!1}}}(),namespacer("bcpl"),bcpl.alertBox=function(e){var t=void 0,n=void 0,a=function(e){e.data.$container.addClass("dismissed"),sessionStorage.setItem("isAlertDismissed",!0)};return{init:function(){t=e("#alert-box-dismiss"),n=t.closest(".alert-container"),t.on("click",{$container:n},a),sessionStorage&&!sessionStorage.getItem("isAlertDismissed")||!sessionStorage?setTimeout(function(){n.slideDown(250)},500):(n.addClass("dismissed"),n.show())}}}(jQuery),$(function(){bcpl.alertBox.init()}),namespacer("bcpl"),bcpl.constants={baseApiUrl:"http://localhost:3000",basePageUrl:"/dist",keyCodes:{enter:13,escape:27,upArrow:38,downArrow:40,leftArrow:37,rightArrow:39,tab:9,space:32}},namespacer("bcpl"),bcpl.navigationSearch=function(e){var t=function(t,n){n.removeClass("active"),t.removeClass("active"),e("#responsive-sliding-navigation .active").removeClass("active"),e("body").removeClass("nav-visible")},n=function(t){var n=t.data.$searchBox,a=t.data.$searchButtonActivator,i=t.data.$menu,s=e(t.currentTarget),o=t.data.$modalCover;a.removeClass("active"),n.removeClass("active"),s.addClass("active"),i.addClass("active"),o.addClass("active"),e("body").addClass("nav-visible")},a=function(e){var t=e.data.$searchBox,n=e.data.$searchButtonActivator,a=e.data.$hamburgerButton;t.is(":hidden")?(n.addClass("active"),a.removeClass("active"),t.addClass("active")):(n.removeClass("active"),a.addClass("active"),t.removeClass("active"))},i=function(t){var n=e(t.currentTarget).siblings("input").first().val();t.data.browserWindow.location=bcpl.constants.basePageUrl+"/search.html?q="+n+"&page=1&resultsPerPage=10"},s=function(n){var a=n.data.$menu,i=n.data.$modalCover;e("#responsive-sliding-navigation .active").length?e("#responsive-sliding-navigation .active .submenu-wrapper").animate({right:"-300px"},250,function(){e(this).closest("li.active").removeClass("active")}):t(a,i)},o=void 0,r=function(n,a){var i=n.data.$menu,s=n.data.$modalCover;parseFloat(e("body").css("width"))>768&&i.hasClass("animatable")?(t(i,s),i.removeClass("animatable")):(clearTimeout(o),o=setTimeout(function(){i.addClass("animatable"),a&&a()},500))};return{init:function(){var t=e("#activate-search-button"),o=e("#search-box"),c=e("#search-button"),l=e("#hamburger-menu-button"),u=e("#responsive-sliding-navigation"),v=e("#responsive-sliding-navigation > .nav-back-button button"),d=e("#modal-cover");t.on("click",{$searchBox:o,$searchButtonActivator:t,$hamburgerButton:l},a),l.on("click",{$searchBox:o,$searchButtonActivator:t,$menu:u,$modalCover:d},n),c.on("click",{browserWindow:window},i),v.on("click",{$menu:u,$modalCover:d},s),d.on("click",{$menu:u,$modalCover:d},s),e(window).on("resize",{$menu:u,$modalCover:d},r),parseFloat(e("body").css("width"))<=768&&u.addClass("animatable")}}}(jQuery),$(function(){bcpl.navigationSearch.init()}),namespacer("bcpl"),bcpl.navigation=function(e,t){var n="#responsive-sliding-navigation>ul>li",a=function(){return parseFloat(e("body").width())<=768},i=function(){return e("body").hasClass("nav-visible")},s=function(){return e("#responsive-sliding-navigation li.active a").first().focus()},o=function(e){return e.closest(n).find("button")},r=function(t,n){var a=i()?{right:"0px"}:{},s=i()?250:0;t.attr("aria-expanded",!0).closest("li").addClass("active").find(".submenu-wrapper").animate(a,s,function(){e(this).find("ul").attr("aria-hidden",!1),n&&"function"==typeof n&&n()})},c=function(t,n){var a=i()?{right:"-300px"}:{},s=i()?250:0;t.siblings(".submenu-wrapper").animate(a,s,function(){e(this).siblings("button").attr("aria-expanded",!1).closest("li").removeClass("active").attr("aria-hidden",!0),n&&"function"==typeof n&&n()})},l=function(){return c(e("#responsive-sliding-navigation").find("li.active button"))},u=function(){return e("#activate-search-button, #search-box").removeClass("active")},v=function(t){t&&!a()?e(".hero-callout-container").hide():e(".hero-callout-container").show()},d=function(t){var n=e(t.currentTarget),a=n.closest("li").hasClass("active");u(),l(),a?(c(n),v(!1)):(r(n),v(!0))},f=function(n){var a=n.which||n.keyCode,i=e(n.currentTarget).closest("#responsive-sliding-navigation").find("li.active button");switch(a){case t.escape:c(i),i.focus(),v(!1)}},p=function(n){var a=n.which||n.keyCode,i=e(n.currentTarget);switch(a){case t.rightArrow:n.preventDefault(),c(i),i.parent().next().find("button").focus();break;case t.leftArrow:n.preventDefault(),c(i),i.parent().prev().find("button").focus();break;case t.downArrow:case t.upArrow:case t.enter:n.preventDefault(),l(),r(i),i.siblings(".submenu-wrapper").find("a:visible").first().focus()}},b=function(a){var i=a.which||a.keyCode,u=e(a.currentTarget),v=u.closest(".active, .clicked").find("a:visible"),d=o(u);switch(i){case t.upArrow:a.preventDefault(),v.index(u)-1==-1?v.eq(0).focus():v.eq(v.index(u)-1).focus();break;case t.leftArrow:a.preventDefault(),u.closest(n).prev("li").length&&c(d,function(){r(u.closest(n).prev("li").find("button")),s()});break;case t.downArrow:a.preventDefault(),v.eq(v.index(u)+1).focus();break;case t.rightArrow:a.preventDefault(),u.closest(n).next("li").length&&c(d,function(){r(u.closest(n).next("li").find("button")),s()});break;case t.space:case t.enter:a.preventDefault(),u[0].click(),l()}},g=function(){v(!0)},m=function(t){e(t.relatedTarget).closest("#responsive-sliding-navigation").length||a()||(l(),v(!1))};e(document).on("mouseover","#responsive-sliding-navigation, #responsive-sliding-navigation *",g),e(document).on("mouseleave","#responsive-sliding-navigation, #responsive-sliding-navigation *",m),e(document).on("keydown","#responsive-sliding-navigation button",p),e(document).on("keydown","#responsive-sliding-navigation",f),e(document).on("click","#responsive-sliding-navigation button",d),e(document).on("keydown","#responsive-sliding-navigation a",b)}(jQuery,bcpl.constants.keyCodes),namespacer("bcpl"),bcpl.tabs=function(e){var t=function(t){var n=e(t.currentTarget),a=t.data.$tabContainer.find(".tab"),i=n.index();t.data.$tabControls.removeClass("active"),a.removeClass("active"),n.addClass("active"),a.eq(i).addClass("active")};return{init:function(){var n=e(".tabs"),a=n.find(".tab-control");a.on("click",{$tabContainer:n,$tabControls:a},t)}}}(jQuery),$(function(){bcpl.tabs.init()});