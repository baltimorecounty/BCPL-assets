"use strict";namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.carousel=function(e){return{init:function(){e(".hero-wrapper").slick({autoplay:!0,fade:!0,dots:!0,arrows:!1,adaptiveHeight:!0})}}}(jQuery),$(function(){bcpl.pageSpecific.homepage.carousel.init()}),namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.featuredEvents=function(e,t,n,a){var r=function(t){e(t.currentTarget).find(".animated").addClass("active")},i=function(t){e(t.currentTarget).find(".animated").removeClass("active")},o=function(e){return e.replace(":00","").replace(/\w\w$/,function(e){return e.split("").join(".")+"."})},c=function(e){var t=e,a=n(e.EventStart);return t.eventMonth=a.format("MMM"),t.eventDate=a.format("D"),t.eventTime=o(a.format("h:mm a")),t.requiresRegistration=0!==t.RegistrationTypeCodeEnum,t},p=function(e,t){return n(e.EventStart).isAfter(n(t.EventStart))},s=function(n){var a=n.map(c),r=e("#events-template").html(),i=t.compile(r),o=i(a);e("#events-target").html(o)},f=function(e,t){if(e.Events&&e.Events.length){var n=e.Events.filter(function(e){return!1===e.FeatureEvent}),a=t.concat(n).slice(0,4).sort(p);s(a)}},u=function(t){if(t.Events)if(t.Events.length<4){var n=d;n.OnlyFeaturedEvents=!1,e.post(a.baseApiUrl+a.homepage.urls.events,n).done(function(e){return f(e,t.Events)})}else s(t.Events)},l=n().add(90,"days").format("M/D/YYYY"),d={Limit:4,Page:1,OnlyFeaturedEvents:!0,EndDate:l};return e.post(a.baseApiUrl+a.homepage.urls.events,d).done(u),e(document).on("mouseover",".post",r),e(document).on("mouseout",".post",i),{}}(jQuery,Handlebars,moment,bcpl.constants),namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.flipper=function(e,t){var n=0,a=function(e){console.log("err",e)},r=function(t){var n=e(".flipper-container"),a=n.find(".flipper-tab");return a.each(function(n,a){var r=e(a),i=r.attr("data-flipper-tab");e.each(t,function(t,n){i.toLowerCase()===n.type.toLowerCase()&&e.each(n.books,function(e,t){var n='<button data-title="'+t.title+'" data-description="'+t.description+'" data-url="'+t.url+'" data-cover-url="'+t.coverUrl+'"><img src="'+t.coverUrl+'" /></button>';r.append(n)})})}),{$flipperContainer:n,$flipperTabs:a}},i=function(e,t){var n=e.$flipperTabs.find("button"),a=e.$flipperTabs.filter(":visible").find("button"),r=e.$flipperContainer.find(".book-title"),i=e.$flipperContainer.find(".book-description"),o=e.$flipperContainer.find(".book-url"),c=e.$flipperContainer.find(".book-cover"),p=a.eq(t);return n.removeClass("active"),p.addClass("active"),r.text(p.attr("data-title")),i.text(p.attr("data-description")),o.attr("href",p.attr("data-url")),c.attr("src",p.attr("data-cover-url")),t===a.length-1?0:t+1},o=function(t){var a=e(t.currentTarget);n=a.index(),i(t.data.tabObjects,n)},c=function(e){e.$flipperTabs.find("button").on("click",{tabObjects:e},o),n=i(e,n)};return{init:function(){e.getJSON(t.homepage.urls.flipper).then(r,a).then(c)}}}(jQuery,bcpl.constants),$(function(){bcpl.pageSpecific.homepage.flipper.init()});