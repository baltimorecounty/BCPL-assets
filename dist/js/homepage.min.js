"use strict";namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.carousel=function(e){return{init:function(){e(".hero-wrapper").slick({autoplay:!0,fade:!0,dots:!0,arrows:!1,adaptiveHeight:!0})}}}(jQuery),$(function(){bcpl.pageSpecific.homepage.carousel.init()}),namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.events=function(e,t,a){var n=function(t){e(t.currentTarget).find(".animated").addClass("active")},r=function(t){e(t.currentTarget).find(".animated").removeClass("active")},i=function(e){return e.replace(":00","").replace(/\w\w$/,function(e){return e.split("").join(".")+"."})},o=function(e){var t=e,n=a(e.EventStart);return t.eventMonth=n.format("MMM"),t.eventDate=n.format("D"),t.eventTime=i(n.format("h:mm a")),t.requiresRegistration=0!==t.RegistrationTypeCodeEnum,t},c=function(a){if(a.Events.length){var n=a.Events.map(o),r=e("#events-template").html(),i=t.compile(r),c=i(n);e("#events-target").html(c)}};e.ajax("/data/mock-featured-events.json").catch().done(c),e(document).on("mouseover",".post",n),e(document).on("mouseout",".post",r)}(jQuery,Handlebars,moment),namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.flipper=function(e,t){var a=0,n=function(e){console.log("err",e)},r=function(t){var a=e(".flipper-container"),n=a.find(".flipper-tab");return n.each(function(a,n){var r=e(n),i=r.attr("data-flipper-tab");e.each(t,function(t,a){i.toLowerCase()===a.type.toLowerCase()&&e.each(a.books,function(e,t){var a='<button data-title="'+t.title+'" data-description="'+t.description+'" data-url="'+t.url+'" data-cover-url="'+t.coverUrl+'"><img src="'+t.coverUrl+'" /></button>';r.append(a)})})}),{$flipperContainer:a,$flipperTabs:n}},i=function(e,t){var a=e.$flipperTabs.find("button"),n=e.$flipperTabs.filter(":visible").find("button"),r=e.$flipperContainer.find(".book-title"),i=e.$flipperContainer.find(".book-description"),o=e.$flipperContainer.find(".book-url"),c=e.$flipperContainer.find(".book-cover"),p=n.eq(t);return a.removeClass("active"),p.addClass("active"),r.text(p.attr("data-title")),i.text(p.attr("data-description")),o.attr("href",p.attr("data-url")),c.attr("src",p.attr("data-cover-url")),t===n.length-1?0:t+1},o=function(t){var n=e(t.currentTarget);a=n.index(),i(t.data.tabObjects,a)},c=function(e){e.$flipperTabs.find("button").on("click",{tabObjects:e},o),a=i(e,a)};return{init:function(){e.getJSON(t.homepage.urls.flipper).then(r,n).then(c)}}}(jQuery,bcpl.constants),$(function(){bcpl.pageSpecific.homepage.flipper.init()});