"use strict";namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.flipper=function(t,e){var r=0,i=function(t){console.log("err",t)},a=function(e){var r=t(".flipper-container"),i=r.find(".flipper-tab");return i.each(function(r,i){var a=t(i),n=a.attr("data-flipper-tab");t.each(e,function(e,r){n.toLowerCase()===r.type.toLowerCase()&&t.each(r.books,function(t,e){var r='<button data-title="'+e.title+'" data-description="'+e.description+'" data-url="'+e.url+'" data-cover-url="'+e.coverUrl+'"><img src="'+e.coverUrl+'" /></button>';a.append(r)})})}),{$flipperContainer:r,$flipperTabs:i}},n=function(t){t.$flipperTabs.find("button").on("click",{tabObjects:t},o),r=p(t,r)},o=function(e){var i=t(e.currentTarget);r=i.index(),p(e.data.tabObjects,r)},p=function(t,e){var r=t.$flipperTabs.find("button"),i=t.$flipperTabs.filter(":visible").find("button"),a=t.$flipperContainer.find(".book-title"),n=t.$flipperContainer.find(".book-description"),o=t.$flipperContainer.find(".book-url"),p=t.$flipperContainer.find(".book-cover"),c=i.eq(e);return r.removeClass("active"),c.addClass("active"),a.text(c.attr("data-title")),n.text(c.attr("data-description")),o.attr("href",c.attr("data-url")),p.attr("src",c.attr("data-cover-url")),e===$buttons.length-1?0:e+1};return{init:function(){t.getJSON("/mockups/data/homepage-flipper.json").then(a,i).then(n)}}}(jQuery),$(function(){bcpl.pageSpecific.homepage.flipper.init()});