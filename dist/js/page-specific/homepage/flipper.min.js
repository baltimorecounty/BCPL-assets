"use strict";namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.flipper=function(t,e){var i=0,n=function(t){console.log("err",t)},a=function(e){var i=t(".flipper-container"),n=i.find(".flipper-tab");return n.each(function(i,n){var a=t(n),r=a.attr("data-flipper-tab");t.each(e,function(e,i){r.toLowerCase()===i.type.toLowerCase()&&t.each(i.books,function(t,e){var i='<button data-title="'+e.title+'" data-description="'+e.description+'" data-url="'+e.url+'"><img src="'+e.coverUrl+'" /></button>';a.append(i)})})}),{$flipperContainer:i,$flipperTabs:n}},r=function(t){t.$flipperTabs.find("button").on("click",{tabObjects:t},o),i=p(t,i)},o=function(e){var n=t(e.currentTarget);i=n.index(),p(e.data.tabObjects,i)},p=function(t,e){var i=t.$flipperTabs.find("button"),n=t.$flipperTabs.filter(":visible").find("button"),a=t.$flipperContainer.find(".book-title"),r=t.$flipperContainer.find(".book-description"),o=t.$flipperContainer.find(".book-url"),p=n.eq(e);return i.removeClass("active"),p.addClass("active"),a.text(p.attr("data-title")),r.text(p.attr("data-description")),o.attr("href",p.attr("data-url")),e===$buttons.length-1?0:e+1};return{init:function(){t.getJSON("/mockups/data/homepage-flipper.json").then(a,n).then(r)}}}(jQuery),$(function(){bcpl.pageSpecific.homepage.flipper.init()});