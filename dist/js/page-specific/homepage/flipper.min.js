"use strict";namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.flipper=function(t){var e=0,r=function(t){console.log("err",t)},i=function(e){var r=t(".flipper-container"),i=r.find(".flipper-tab");return i.each(function(r,i){var a=t(i),n=a.attr("data-flipper-tab");t.each(e,function(e,r){n.toLowerCase()===r.type.toLowerCase()&&t.each(r.books,function(t,e){var r='<button data-title="'+e.title+'" data-description="'+e.description+'" data-url="'+e.url+'" data-cover-url="'+e.coverUrl+'"><img src="'+e.coverUrl+'" /></button>';a.append(r)})})}),{$flipperContainer:r,$flipperTabs:i}},a=function(t,e){var r=t.$flipperTabs.find("button"),i=t.$flipperTabs.filter(":visible").find("button"),a=t.$flipperContainer.find(".book-title"),n=t.$flipperContainer.find(".book-description"),o=t.$flipperContainer.find(".book-url"),p=t.$flipperContainer.find(".book-cover"),c=i.eq(e);return r.removeClass("active"),c.addClass("active"),a.text(c.attr("data-title")),n.text(c.attr("data-description")),o.attr("href",c.attr("data-url")),p.attr("src",c.attr("data-cover-url")),e===i.length-1?0:e+1},n=function(r){var i=t(r.currentTarget);e=i.index(),a(r.data.tabObjects,e)},o=function(t){t.$flipperTabs.find("button").on("click",{tabObjects:t},n),e=a(t,e)};return{init:function(){t.getJSON("/data/homepage-flipper.json").then(i,r).then(o)}}}(jQuery),$(function(){bcpl.pageSpecific.homepage.flipper.init()});