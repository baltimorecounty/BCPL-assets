"use strict";namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.flipper=function(t){var e=0,i=function(t){console.log("err",t)},r=function(e){var i=t(".flipper-container"),r=i.find(".flipper-tab");return r.each(function(i,r){var a=t(r),n=a.attr("data-flipper-tab");t.each(e,function(e,i){n.toLowerCase()===i.type.toLowerCase()&&t.each(i.books,function(t,e){var i='<button data-title="'+e.title+'" data-description="'+e.description+'" data-url="'+e.url+'" data-cover-url="'+e.coverUrl+'"><img src="'+e.coverUrl+'" /></button>';a.append(i)})})}),{$flipperContainer:i,$flipperTabs:r}},a=function(t,e){var i=t.$flipperTabs.find("button"),r=t.$flipperTabs.filter(":visible").find("button"),a=t.$flipperContainer.find(".book-title"),n=t.$flipperContainer.find(".book-description"),o=t.$flipperContainer.find(".book-url"),p=t.$flipperContainer.find(".book-cover"),c=r.eq(e);return i.removeClass("active"),c.addClass("active"),a.text(c.attr("data-title")),n.text(c.attr("data-description")),o.attr("href",c.attr("data-url")),p.attr("src",c.attr("data-cover-url")),e===r.length-1?0:e+1},n=function(i){var r=t(i.currentTarget);e=r.index(),a(i.data.tabObjects,e)},o=function(t){t.$flipperTabs.find("button").on("click",{tabObjects:t},n),e=a(t,e)};return{init:function(){t.getJSON("/sebin/y/d/homepage-flipper.json").then(r,i).then(o)}}}(jQuery),$(function(){bcpl.pageSpecific.homepage.flipper.init()});