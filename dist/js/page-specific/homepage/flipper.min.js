"use strict";namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.flipper=function(t,e){var r=0,a=function(t){console.log("err",t)},i=function(e){var r=t(".flipper-container"),a=r.find(".flipper-tab");return a.each(function(r,a){var i=t(a),n=i.attr("data-flipper-tab");t.each(e,function(e,r){n.toLowerCase()===r.type.toLowerCase()&&t.each(r.books,function(t,e){var r='<button data-title="'+e.title+'" data-description="'+e.description+'" data-url="'+e.url+'" data-cover-url="'+e.coverUrl+'"><img src="'+e.coverUrl+'" /></button>';i.append(r)})})}),{$flipperContainer:r,$flipperTabs:a}},n=function(t,e){var r=t.$flipperTabs.find("button"),a=t.$flipperTabs.filter(":visible").find("button"),i=t.$flipperContainer.find(".book-title"),n=t.$flipperContainer.find(".book-description"),o=t.$flipperContainer.find(".book-url"),p=t.$flipperContainer.find(".book-cover"),c=a.eq(e);return r.removeClass("active"),c.addClass("active"),i.text(c.attr("data-title")),n.text(c.attr("data-description")),o.attr("href",c.attr("data-url")),p.attr("src",c.attr("data-cover-url")),e===a.length-1?0:e+1},o=function(e){var a=t(e.currentTarget);r=a.index(),n(e.data.tabObjects,r)},p=function(t){t.$flipperTabs.find("button").on("click",{tabObjects:t},o),r=n(t,r)};return{init:function(){t.getJSON(e.homepage.urls.flipper).then(i,a).then(p)}}}(jQuery,bcpl.constants);