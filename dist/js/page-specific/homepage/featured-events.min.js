"use strict";namespacer("bcpl.pageSpecific.homepage"),bcpl.pageSpecific.homepage.featuredEvents=function(e,t,n,r){var a=function(t){e(t.currentTarget).find(".animated").addClass("active")},o=function(t){e(t.currentTarget).find(".animated").removeClass("active")},s=function(e){return e.replace(":00","").replace(/\w\w$/,function(e){return e.split("").join(".")+"."})},i=function(e){var t=e,r=n(e.EventStart);return t.eventMonth=r.format("MMM"),t.eventDate=r.format("D"),t.eventTime=s(r.format("h:mm a")),t.requiresRegistration=0!==t.RegistrationTypeCodeEnum,t},u=function(e,t){return n(e.EventStart).isAfter(n(t.EventStart))},c=function(n){var r=n.map(i),a=e("#events-template").html(),o=t.compile(a),s=o(r);e("#events-target").html(s)},v=function(e,t){if(e.Events&&e.Events.length){var n=e.Events.filter(function(e){return!1===e.FeatureEvent}),r=t.concat(n).slice(0,4).sort(u);c(r)}},m=function(t){if(t.Events)if(t.Events.length<4){var n=p;n.OnlyFeaturedEvents=!1,e.post(r.baseApiUrl+r.homepage.urls.events,n).done(function(e){return v(e,t.Events)})}else c(t.Events)},f=n().add(90,"days").format("M/D/YYYY"),p={Limit:4,Page:1,OnlyFeaturedEvents:!0,EndDate:f};return e.post(r.baseApiUrl+r.homepage.urls.events,p).done(m),e(document).on("mouseover",".post",a),e(document).on("mouseout",".post",o),{processEvent:i,formatTime:s}}(jQuery,Handlebars,moment,bcpl.constants);